<div class="story">
<h1></h1>
<div class="path">test/resources/Create.story</div>
<div class="scenario">
<h2>Scenario: 001:  &#31038;&#20869;&#12450;&#12459;&#12454;&#12531;&#12488;&#12395;&#19968;&#20214;&#36861;&#21152;&#12375;&#12414;&#12377;</h2>
<div class="step successful">Given &#31354;&#12398;&#31038;&#21729;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;</div>
<div class="step successful">When &#12501;&#12521;&#12531;&#12473;&#12363;&#12425;&#12398;&#26032;&#20837;&#31038;&#21729;&#12434;&#36861;&#21152;&#12375;&#12414;&#12377;
<span class="step parameter"><table>
<thead>
<tr>
<th>UserID</th><th>UnitID</th><th>UserNameFirst</th><th>UserNameLast</th></tr>
</thead>
<tbody>
<tr>
<td>1005</td><td>200</td><td>&amp;#12463;&amp;#12525;&amp;#12456;</td><td>&amp;#12523;&amp;#12513;&amp;#12540;&amp;#12523;</td></tr>
</tbody>
</table>
</span></div>
<div class="step successful">Then &#20197;&#19979;&#12398;&#31038;&#21729;&#12364;&#36861;&#21152;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;
<span class="step parameter"><table>
<thead>
<tr>
<th>UserID</th><th>UnitID</th><th>UserNameFirst</th><th>UserNameLast</th></tr>
</thead>
<tbody>
<tr>
<td>1005</td><td>200</td><td>&amp;#12463;&amp;#12525;&amp;#12456;</td><td>&amp;#12523;&amp;#12513;&amp;#12540;&amp;#12523;</td></tr>
</tbody>
</table>
</span></div>
</div>
<div class="scenario">
<h2>Scenario: 002:  &#37096;&#32626;&#12434;&#19968;&#20214;&#36861;&#21152;&#12375;&#12414;&#12377;</h2>
<div class="step successful">Given &#26032;&#12375;&#12356;&#37096;&#32626;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;</div>
<div class="step failed">When &#20154;&#20107;&#37096;&#12434;&#36861;&#21152;&#12375;&#12414;&#12377;
<span class="step parameter"><table>
<thead>
<tr>
<th>UnitID</th><th>UnitName</th></tr>
</thead>
<tbody>
<tr>
<td>400</td><td>&amp;#20154;&amp;#20107;&amp;#37096;</td></tr>
</tbody>
</table>
</span> <span class="keyword failed">(FAILED)</span><br/><span class="message failed">&lt;openjpa-2.2.2-r422266:1468616 fatal store error&gt; org.apache.openjpa.persistence.RollbackException: The transaction has been rolled back.  See the nested exceptions for details on the errors that occurred.
FailedObject: systemaccount.model.Unit@196f4e87</span></div>
<div class="step notPerformed">Then &#20197;&#19979;&#12398;&#37096;&#32626;&#12364;&#36861;&#21152;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;
<span class="step parameter"><table>
<thead>
<tr>
<th>UnitID</th><th>UnitName</th></tr>
</thead>
<tbody>
<tr>
<td>400</td><td>&amp;#20154;&amp;#20107;&amp;#37096;</td></tr>
</tbody>
</table>
</span> <span class="keyword notPerformed">(NOT PERFORMED)</span></div>
<pre class="failure">&lt;openjpa-2.2.2-r422266:1468616 fatal store error&gt; org.apache.openjpa.persistence.RollbackException: The transaction has been rolled back.  See the nested exceptions for details on the errors that occurred.
FailedObject: systemaccount.model.Unit@196f4e87
	at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:594)
	at systemaccount.service.CreateUnit.createUnit(CreateUnit.java:24)
	at systemaccount.json.webresource.UnitResource.createItem(UnitResource.java:80)
	at test.java.TestCreateSteps.whenCreateUnit(TestCreateSteps.java:75)
	(reflection-invoke)
	at org.jbehave.core.steps.StepCreator$ParameterisedStep.perform(StepCreator.java:550)
	at org.jbehave.core.embedder.StoryRunner$FineSoFar.run(StoryRunner.java:531)
...</pre>
</div>
<div class="scenario">
<h2>Scenario: 003: &#31649;&#29702;&#12471;&#12473;&#12486;&#12512;&#12434;&#19968;&#20214;&#36861;&#21152;&#12375;&#12414;&#12377;</h2>
<div class="step successful">Given &#26032;&#12375;&#12356;&#31649;&#29702;&#12471;&#12473;&#12486;&#12512;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;</div>
<div class="step successful">When &#32102;&#19982;&#12471;&#12473;&#12486;&#12512;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;
<span class="step parameter"><table>
<thead>
<tr>
<th>ManagementSystemID</th><th>ManagementSystemName</th></tr>
</thead>
<tbody>
<tr>
<td>1000</td><td>&amp;#32102;&amp;#26009;&amp;#22857;&amp;#34892;</td></tr>
</tbody>
</table>
</span></div>
<div class="step successful">Then &#20197;&#19979;&#12398;&#31649;&#29702;&#12471;&#12473;&#12486;&#12512;&#12364;&#36861;&#21152;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;
<span class="step parameter"><table>
<thead>
<tr>
<th>ManagementSystemID</th><th>ManagementSystemName</th></tr>
</thead>
<tbody>
<tr>
<td>1000</td><td>&amp;#32102;&amp;#26009;&amp;#22857;&amp;#34892;</td></tr>
</tbody>
</table>
</span></div>
</div>
<div class="scenario">
<h2>Scenario: 004: &#27177;&#38480;&#12434;&#19968;&#20214;&#36861;&#21152;&#12375;&#12414;&#12377;</h2>
<div class="step successful">Given &#26032;&#12375;&#12356;&#27177;&#38480;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;</div>
<div class="step successful">When &#12471;&#12473;&#12486;&#12512;&#31649;&#29702;&#32773;&#27177;&#38480;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;
<span class="step parameter"><table>
<thead>
<tr>
<th>ManagementSystemID</th><th>PermissionID</th><th>PermissionName</th></tr>
</thead>
<tbody>
<tr>
<td>2000</td><td>101</td><td>&amp;#12471;&amp;#12473;&amp;#12486;&amp;#12512;&amp;#31649;&amp;#29702;&amp;#32773;</td></tr>
</tbody>
</table>
</span></div>
<div class="step successful">Then &#20197;&#19979;&#12398;&#27177;&#38480;&#12364;&#36861;&#21152;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;
<span class="step parameter"><table>
<thead>
<tr>
<th>ManagementSystemID</th><th>PermissionID</th><th>PermissionName</th></tr>
</thead>
<tbody>
<tr>
<td>2000</td><td>101</td><td>&amp;#12471;&amp;#12473;&amp;#12486;&amp;#12512;&amp;#31649;&amp;#29702;&amp;#32773;</td></tr>
</tbody>
</table>
</span></div>
</div>
<div class="scenario">
<h2>Scenario: 005: &#27177;&#38480;&#12434;&#20184;&#19982;&#12375;&#12414;&#12377;</h2>
<div class="step successful">Given &#26032;&#12375;&#12356;&#27177;&#38480;&#12434;&#20184;&#19982;&#12375;&#12414;&#12377;</div>
<div class="step successful">When &#20197;&#19979;&#12398;&#12471;&#12473;&#12486;&#12512;&#12450;&#12459;&#12454;&#12531;&#12488;&#12395;&#26032;&#12375;&#12356;&#27177;&#38480;&#12434;&#20184;&#19982;&#12375;&#12414;&#12377;
<span class="step parameter"><table>
<thead>
<tr>
<th>UserID</th><th>LoginID</th><th>ManagementSystemID</th><th>PermissionID</th></tr>
</thead>
<tbody>
<tr>
<td>1000</td><td>m-tomoe</td><td>2000</td><td>101</td></tr>
</tbody>
</table>
</span></div>
<div class="step successful">Then &#20197;&#19979;&#12398;&#27177;&#38480;&#12364;&#20184;&#19982;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;
<span class="step parameter"><table>
<thead>
<tr>
<th>UserID</th><th>LoginID</th><th>ManagementSystemID</th><th>PermissionID</th></tr>
</thead>
<tbody>
<tr>
<td>1000</td><td>m-tomoe</td><td>2000</td><td>101</td></tr>
</tbody>
</table>
</span></div>
</div>
</div>
